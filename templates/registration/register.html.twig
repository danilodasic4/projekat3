{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1 class="text-center">Register</h1>

        {# Showing success message if registration was successful #}
        {% if app.session.flashbag().has('success') %}
            <div class="alert alert-success">
                {{ app.session.flashbag().get('success')[0] }}
            </div>
        {% endif %}

        {# Showing form validation errors #}
        {% if form_errors(registrationForm) %}
            <div class="alert alert-danger">
                {{ form_errors(registrationForm) }}
            </div>
        {% endif %}

        {# Registration form start #}
        <div class="row justify-content-center">
            <div class="col-md-6">
                {{ form_start(registrationForm, {'attr': {'class': 'form', 'enctype': 'multipart/form-data'}}) }}
                    <div class="mb-3">
                        {{ form_row(registrationForm.email, {
                            'attr': {'class': 'form-control', 'placeholder': 'Enter your email'}
                        }) }}
                    </div>

                    <div class="mb-3">
                        {{ form_row(registrationForm.plainPassword.first, {
                            'label': 'Password',
                            'attr': {'class': 'form-control', 'placeholder': 'Enter your password'}
                        }) }}
                    </div>

                    <div class="mb-3">
                        {{ form_row(registrationForm.plainPassword.second, {
                            'label': 'Confirm Password',
                            'attr': {'class': 'form-control', 'placeholder': 'Confirm your password'}
                        }) }}
                    </div>

                    <div class="mb-3">
                        {{ form_row(registrationForm.birthday, {
                            'attr': {'class': 'form-control', 'placeholder': 'MM-DD-YYYY'}
                        }) }}
                    </div>

                    <div class="mb-3">
                        {{ form_row(registrationForm.gender, {
                            'attr': {'class': 'form-control', 'placeholder': 'Enter your gender'}
                        }) }}
                    </div>

                    <div class="mb-3 form-check">
                        {{ form_row(registrationForm.agreeTerms, {
                            'attr': {'class': 'form-check-input'}
                        }) }}
                        <label class="form-check-label" for="registrationForm_agreeTerms">
                            I agree to the terms and conditions
                        </label>
                    </div>

                    <div class="mb-3 form-check">
                        {{ form_row(registrationForm.newsletter, {
                            'attr': {'class': 'form-check-input'}
                        }) }}
                        <label class="form-check-label" for="registrationForm_newsletter">
                            I would like to receive newsletters
                        </label>
                    </div>

                    <div class="mb-3">
                        {{ form_row(registrationForm.profile_picture, {
                            'attr': {'class': 'form-control'}
                        }) }}
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">Register</button>
                    </div>

                {{ form_end(registrationForm) }}
            </div>
        </div>
    </div>
{% endblock %}
