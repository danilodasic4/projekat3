{% extends 'base.html.twig' %}

{% block title %}Edit Car{% endblock %}

{% block body %}
    <div class="container">
        <h1 class="my-4">Edit Car</h1>
        
        <!-- Display the owner of the car -->
        <div class="alert alert-info mb-4">
            <strong>Owner:</strong> {{ car.user.email }}
        </div>
        {% for type, messages in app.flashes %}
            {% if type == 'form_errors' %}
                {% for message in messages %}
                    <div class="alert alert-danger">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endfor %}
        {{ form_start(form, {'attr': {'class': 'w-50 mx-auto'}}) }}
        
        <div class="mb-3">
            {{ form_label(form.brand, 'Car Brand') }}
            {{ form_widget(form.brand, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.model, 'Car Model') }}
            {{ form_widget(form.model, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.year, 'Year of Manufacture') }}
            {{ form_widget(form.year, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.engineCapacity, 'Engine Capacity (cc)') }}
            {{ form_widget(form.engineCapacity, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.horsePower, 'Horse Power') }}
            {{ form_widget(form.horsePower, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.color, 'Car Color') }}
            {{ form_widget(form.color, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.registrationDate, 'Registration Date') }}
            {{ form_widget(form.registrationDate, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div class="mb-3">
            {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary'}}) }}
        </div>

        {{ form_end(form) }}
    <!-- Button to return to the car list -->
        <a href="{{ path('app_car_index') }}" class="btn btn-secondary mt-3">Back to list</a>
    </div>
{% endblock %}
